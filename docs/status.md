<!-- AICODE-NOTE: STATUS/FOCUS focus: UI performance 80/20 (tree load/render) + multi-token search suggestions ref: docs/plan-ui-performance.md docs/plan-search-suggestions-multi-token.md -->
<!-- AICODE-NOTE: STATUS/ENTRY next: return to filters + export (t28-t30) ref: docs/TASKS.md -->

# Status

## Latest accomplishments
- Описали архитектуру и план, а также внедрили всю базовую структуру и конфиги (Phase 1-4), включая API модуль для BaseX.
- Добавили модули поиска с debounce 300 мс, кэшированием, расширенным XQuery (учёт ресурсов) и группировкой по базам.
- Отрисовали панель результатов поиска, результаты показывают путь/ресурсы и клёкабельны: клик раскрывает дерево, разворачивает путь и выбирает работу.
- Подключили к каталогам `fsbts_mat`/`fsbts_mash` цены ресурсов, подчёркивание строк таблицы и карточку ресурса, клики ведут в справочник без потери дерева.
- Добавили историю переходов (Back/Forward) между работами и ресурсами и показали соответствующие кнопки в хедере.
- Добавили парсинг `NameGroup`, теперь дерево показывает Work-узлы внутри таблиц без лишних кликов и работает с существующим кэшем/историей.
- Сделали Work-узлы фокусируемыми, добавили заголовки (`title`/`aria-label`) и поддержку Enter/Space, чтобы клавиатурная навигация по дереву шла по работе и не мешала секциям.
- Добавили fuzzy-подсказки по разделам с ранжированием, кэшированием и подстановкой выбранного значения в строку поиска.
- Добавили группированные fuzzy-подсказки по работам и ресурсам с лимитами, кэшированием и управлением поведения при выборе.

## Current focus
- Ускорить UI по плану 80/20: уменьшить payload `getSections`, убрать лишние deep-clone и сделать рендер дерева дешевле (делегирование событий + переиспользование DOM).
- Внедрить multi-token подсказки поиска по плану `docs/plan-search-suggestions-multi-token.md`: кешировать `suggestionCache`, учитывать все токены при ранжировании и сохранить поведение `applySuggestion`.

## Next up
1. Вернуться к Phase 7: фильтры дерева, экспорт/избранное и аналогичные расширения из блоков t28-t30 (`docs/TASKS.md`).
2. Пройтись по Phase 8 (t31-t34): устойчивость/обработка ошибок API/UI и проверки.
3. Продолжать мониторить `AICODE-*` анкоры (`rg -n "AICODE-" README.md docs/*.md`) после каждого релевантного правки.
